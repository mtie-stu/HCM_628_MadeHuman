@model Madehuman_User.ViewModel.Inbound.InboundReceipt.InboundReceiptDetailViewModel

@{
    ViewData["Title"] = "Chi tiết Phiếu Nhập Kho";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
<link rel="stylesheet" href="~/css/pages/InboundReceipt/inbound-receipt-detail.css" asp-append-version="true" />

<div class="inbound-page container mt-4">

    <!-- Header -->
    <div class="page-head">
        <div>
            <h2 class="page-title"><i class="bi bi-box-arrow-in-down"></i> Chi tiết Phiếu Nhập Kho</h2>
            <div class="page-subtext">Thông tin tổng quan và sản phẩm trong phiếu</div>
        </div>
        <div class="toolbar">
            <a asp-action="Index" class="btn btn-outline">
                <i class="bi bi-arrow-left"></i> Quay lại danh sách
            </a>
        </div>
    </div>

    <!-- Thông tin phiếu -->
    <div class="info-card">
        <div class="info-grid">
            <div class="info-row">
                <div class="label">Mã phiếu</div>
                <div class="value"><span class="id-chip">@Model.Id</span></div>
            </div>

            <div class="info-row">
                <div class="label">Ngày tạo</div>
                <div class="value">@Model.CreateAt.ToString("dd/MM/yyyy HH:mm")</div>
            </div>

            <div class="info-row">
                <div class="label">Ngày nhận</div>
                <div class="value">
                    @(Model.ReceivedAt == DateTime.MinValue ? "-" : Model.ReceivedAt.ToString("dd/MM/yyyy"))
                </div>
            </div>

            <div class="info-row">
                <div class="label">Trạng thái</div>
                <div class="value">
                    <span class="status-chip">@Model.Status</span>
                </div>
            </div>

            <div class="info-row">
                <div class="label">Mã nhiệm vụ</div>
                <div class="value text-break">@Model.TaskCode</div>
            </div>
        </div>
    </div>

    <!-- Danh sách sản phẩm -->
    <div class="mt-3">
        <h5 class="section-title"><i class="bi bi-box-seam"></i> Sản phẩm</h5>

        @if (Model.Items == null || !Model.Items.Any())
        {
            <div class="empty-state mt-2">
                <i class="bi bi-inboxes"></i>
                <div class="title">Phiếu chưa có sản phẩm</div>
                <div class="desc">Bạn có thể thêm sản phẩm trong thao tác chỉnh sửa.</div>
            </div>
        }
        else
        {
            <div class="table-wrap mt-2">
                <table class="table table-hover mb-0">
                    <thead>
                        <tr>
                            <th style="width:30%;">Mã SKU</th>
                            <th style="width:50%;">Tên sản phẩm</th>
                            <th style="width:20%;" class="text-center">Số lượng</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Items)
                        {
                            <tr>
                                <td><span class="id-chip">@item.ProductSKUId</span></td>
                                <td class="text-break">@item.ProductSKUName</td>
                                <td class="text-center fw-bold">@item.Quantity</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    </div>
</div>
